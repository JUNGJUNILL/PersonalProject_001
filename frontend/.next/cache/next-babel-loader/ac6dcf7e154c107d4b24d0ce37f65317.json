{"ast":null,"code":"var _jsxFileName = \"D:\\\\git Repository\\\\PersonalProject_001\\\\frontend\\\\pages\\\\_app.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport AppLayOut from '../components/AppLayOut';\nimport Head from 'next/head';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport 'antd/dist/antd.css';\nimport '../CSS/antdMobile.css';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { createWrapper } from 'next-redux-wrapper';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport reducer from '../reducers';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from '../sagas';\nimport { LOAD_USER_REQUEST } from '../reducers/auth'; //프로젝트 고정 틀\n\nconst Project01_TodoList = ({\n  Component,\n  pageProps\n}) => {\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, \"TodoList\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdnjs.cloudflare.com/ajax/libs/antd/3.16.2/antd.min.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdnjs.cloudflare.com/ajax/libs/antd-mobile/2.3.3/antd-mobile.css\",\n    integrity: \"sha256-uZbNsqglsHyapiY6Nlj8o9kAmliY/rWNCTqthjIHIXw=\",\n    crossorigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  })), __jsx(AppLayOut, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }))));\n};\n\nProject01_TodoList.getInitialProps = async context => {\n  //▲ next에서 제공해줌\n  const {\n    ctx,\n    Component\n  } = context;\n  let pageProps = {};\n  const state = ctx.store.getState(); //프로젝트 전체 stat를 가져 올 수 있다. \n\n  const isServer = true || !!context.req || !!context.ctx.req;\n  const cookie = isServer ? ctx.req.headers.cookie : '';\n\n  if (isServer && cookie) {\n    //클라이언 환경에서는 브라우저가 쿠키를 넣어주고, \n    //SSR일 때는 우리가 직접 넣어줘야 한다. \n    console.log('우리가 넣어줌?');\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  console.log('state.auth.userInfo==>', state.auth.userInfo); // //(새로고침)로그인 정보 유지\n\n  if (!state.auth.userInfo) {\n    console.log('axios', axios);\n    console.log('A', state.auth.userInfo);\n    ctx.store.dispatch({\n      type: LOAD_USER_REQUEST\n    });\n  } else {\n    console.log('B', state.auth.userInfo);\n  }\n\n  if (Component.getInitialProps) {\n    pageProps = await Component.getInitialProps(ctx);\n  }\n\n  return {\n    pageProps\n  };\n};\n\nProject01_TodoList.propTypes = {\n  Component: PropTypes.elementType.isRequired\n};\n\nconst configureStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const middlewares = [sagaMiddleware]; // 미들웨어들을 넣으면 된다.\n\n  const enhancer = false ? compose(applyMiddleware(...middlewares)) : composeWithDevTools(applyMiddleware(...middlewares));\n  const store = createStore(reducer, enhancer); //react에서 redux를 사용하기 위해서는 createStore로 store를 생성해 주어야 한다. \n  //redux-next-wapper 6 버전 부터는 Provider store={store}를 내부적으로 해 준다. \n  //sagaMiddleware.run(rootSaga);  이새끼때문에 REQUEST, SUCCESS 2번씩 실행됨 ㅅㅂ \n\n  store.sagaTask = sagaMiddleware.run(rootSaga);\n  return store;\n}; //const wrapper = createWrapper(configureStore, {debug:  process.env.NODE_ENV === 'development'}); \n\n\nconst wrapper = createWrapper(configureStore, {\n  debug: false\n});\nexport default wrapper.withRedux(Project01_TodoList);","map":{"version":3,"sources":["D:/git Repository/PersonalProject_001/frontend/pages/_app.js"],"names":["AppLayOut","Head","PropTypes","axios","createWrapper","createStore","compose","applyMiddleware","reducer","composeWithDevTools","createSagaMiddleware","rootSaga","LOAD_USER_REQUEST","Project01_TodoList","Component","pageProps","getInitialProps","context","ctx","state","store","getState","isServer","req","cookie","headers","console","log","defaults","Cookie","auth","userInfo","dispatch","type","propTypes","elementType","isRequired","configureStore","sagaMiddleware","middlewares","enhancer","sagaTask","run","wrapper","debug","withRedux"],"mappings":"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","sourcesContent":["import AppLayOut from '../components/AppLayOut';\r\nimport Head      from 'next/head';\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'; \r\n\r\nimport 'antd/dist/antd.css'; \r\nimport  '../CSS/antdMobile.css';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\n\r\n\r\n\r\n\r\nimport {createWrapper} from 'next-redux-wrapper';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport reducer  from '../reducers';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from '../sagas'; \r\nimport { LOAD_USER_REQUEST } from '../reducers/auth';\r\n\r\n\r\n\r\n\r\n//프로젝트 고정 틀\r\nconst Project01_TodoList = ({Component,pageProps}) =>{\r\n\r\n        return (\r\n            <div>\r\n                <Head>\r\n                    <title>TodoList</title>\r\n                    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/antd/3.16.2/antd.min.css\"/>\r\n                    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/antd-mobile/2.3.3/antd-mobile.css\" integrity=\"sha256-uZbNsqglsHyapiY6Nlj8o9kAmliY/rWNCTqthjIHIXw=\" crossorigin=\"anonymous\" />\r\n                </Head>\r\n                <AppLayOut>\r\n                    <Component {...pageProps} />\r\n                </AppLayOut>\r\n            </div>\r\n            ); \r\n\r\n\r\n}\r\n\r\n\r\nProject01_TodoList.getInitialProps = async (context)=>{\r\n                                            //▲ next에서 제공해줌\r\n  const { ctx,Component } = context; \r\n  let pageProps ={}; \r\n  const state = ctx.store.getState();    //프로젝트 전체 stat를 가져 올 수 있다. \r\n  const isServer = typeof window === 'undefined' || !!context.req || !!context.ctx.req;\r\n  const cookie = isServer ? ctx.req.headers.cookie : ''; \r\n\r\n  if(isServer && cookie){\r\n      //클라이언 환경에서는 브라우저가 쿠키를 넣어주고, \r\n      //SSR일 때는 우리가 직접 넣어줘야 한다. \r\n      console.log('우리가 넣어줌?'); \r\n      axios.defaults.headers.Cookie = cookie; \r\n  }\r\n  \r\n  console.log('state.auth.userInfo==>' , state.auth.userInfo); \r\n  // //(새로고침)로그인 정보 유지\r\n  if(!state.auth.userInfo){\r\n      console.log('axios',axios); \r\n      console.log('A',state.auth.userInfo)\r\n      ctx.store.dispatch({\r\n        type:LOAD_USER_REQUEST,\r\n      });\r\n\r\n  }else{\r\n    console.log('B', state.auth.userInfo); \r\n  }\r\n\r\n\r\n  if(Component.getInitialProps){\r\n  pageProps =  await Component.getInitialProps(ctx); \r\n  }\r\n  \r\n  return {pageProps}; \r\n\r\n\r\n}\r\n\r\n\r\nProject01_TodoList.propTypes = { \r\n  Component:PropTypes.elementType.isRequired, \r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst configureStore = () => {\r\n  const sagaMiddleware = createSagaMiddleware(); \r\n  const middlewares = [sagaMiddleware]; // 미들웨어들을 넣으면 된다.\r\n  \r\n  const enhancer = process.env.NODE_ENV === 'production'\r\n    ? compose(applyMiddleware(...middlewares))\r\n    : composeWithDevTools(applyMiddleware(...middlewares));\r\n\r\n  const store = createStore(reducer, enhancer);\r\n                //react에서 redux를 사용하기 위해서는 createStore로 store를 생성해 주어야 한다. \r\n                //redux-next-wapper 6 버전 부터는 Provider store={store}를 내부적으로 해 준다. \r\n\r\n   //sagaMiddleware.run(rootSaga);  이새끼때문에 REQUEST, SUCCESS 2번씩 실행됨 ㅅㅂ \r\n   store.sagaTask = sagaMiddleware.run(rootSaga);\r\n   return store;\r\n\r\n}\r\n  \r\n//const wrapper = createWrapper(configureStore, {debug:  process.env.NODE_ENV === 'development'}); \r\nconst wrapper = createWrapper(configureStore, {debug:  false}); \r\nexport default wrapper.withRedux(Project01_TodoList); "]},"metadata":{},"sourceType":"module"}