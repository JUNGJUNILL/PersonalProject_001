{"ast":null,"code":"var _jsxFileName = \"D:\\\\git Repository\\\\PersonalProject_001\\\\frontend\\\\pages\\\\mainPosts_1001.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport Pagenation from '../utilComponent/Pagenation';\nimport { DislikeTwoTone, LikeTwoTone } from '@ant-design/icons';\nimport { MAINPOSTS_1001_LIST_REQUEST } from '../reducers/mainPosts_1001';\nimport { LOAD_USER_REQUEST } from '../reducers/auth';\nimport { useDispatch, useSelector } from 'react-redux';\nimport isEmpty from '../utilComponent/isEmpty';\nimport custumDateFormat from '../utilComponent/custumDateFormat';\n\nconst mainPosts_1001 = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    mainPosts_1001\n  } = useSelector(state => state.mainPosts_1001);\n  useEffect(() => {\n    dispatch({\n      type: MAINPOSTS_1001_LIST_REQUEST,\n      data: {\n        postFlag: '1001',\n        currentPage: nowPage,\n        maxPage: postsPerPage\n      }\n    }); // dispatch({\n    //     type:LOAD_USER_REQUEST,\n    // }); \n\n    console.log('mainPosts_1001=>', mainPosts_1001);\n  }, []);\n  const gotoDetail = useCallback((postId, userNickName, postFlag) => {\n    router.push({\n      pathname: '/detailPage',\n      query: {\n        postId,\n        nickName: userNickName,\n        postFlag\n      },\n      as: '/detail'\n    });\n    console.log(postId, userNickName, postFlag);\n  }, []);\n  /*-------------------------------------------페이징 처리 로직 start-------------------------------------------------------*/\n\n  const {\n    0: nowPage,\n    1: setNowPage\n  } = useState(0); //현재 페이지\n\n  const {\n    0: postsPerPage\n  } = useState(5); //한 페이지당 list 수 \n\n  const {\n    0: groupPage,\n    1: setGroupPage\n  } = useState(5); //페이징 그룹 당 수  1~5 , 6~10 , 11~15 ...\n\n  const {\n    0: nowGroupPageArray,\n    1: setNowGroupPageArray\n  } = useState([]); //현제 페이징 그룹 배열\n\n  const pagenate = useCallback((pageNumber, groupPageArray) => {\n    setNowPage(pageNumber);\n    nowGroupPageArray.length = 0;\n    setNowGroupPageArray(nowGroupPageArray.concat(groupPageArray));\n    const indexOfLastPost = pageNumber * postsPerPage;\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;\n    dispatch({\n      type: MAINPOSTS_1001_LIST_REQUEST,\n      data: {\n        postFlag: '1001',\n        currentPage: indexOfFirstPost,\n        maxPage: postsPerPage\n      }\n    });\n  }, [nowPage, nowGroupPageArray]);\n  /*-------------------------------------------페이징 처리 로직   end-------------------------------------------------------*/\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"divTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, mainPosts_1001.map((v, i) => __jsx(\"div\", {\n    className: \"divTableRow\",\n    onClick: () => gotoDetail(v.postId, v.userNickName, '1001'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }\n  }, __jsx(\"div\", {\n    className: \"divTableCell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"divImageCell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 49\n    }\n  }, __jsx(\"img\", {\n    src: \"https://dimg.donga.com/wps/NEWS/IMAGE/2019/11/24/98510015.1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 79\n    }\n  }))), __jsx(\"div\", {\n    className: \"divTableCell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, __jsx(Link, {\n    href: {\n      pathname: '/detailPage',\n      query: {\n        postId: v.postId,\n        nickName: v.userNickName,\n        postFlag: '1001'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 50\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 155\n    }\n  }, isEmpty(v.title))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 187\n    }\n  }), __jsx(LikeTwoTone, {\n    twoToneColor: \"#1ba640\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }), \" : 10 \", __jsx(DislikeTwoTone, {\n    twoToneColor: \"#1ba640\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 62\n    }\n  }), \" : 10 hit : 15,000\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 120\n    }\n  }), isEmpty(v.createdDate), \" | \", isEmpty(v.userNickName), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 71\n    }\n  }))))), __jsx(Pagenation, {\n    pagenate: pagenate,\n    dataLength: mainPosts_1001.length,\n    postsPerPage: postsPerPage,\n    nowPage: nowPage,\n    groupPage: groupPage,\n    groupPageArray: nowGroupPageArray,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default mainPosts_1001;","map":{"version":3,"sources":["D:/git Repository/PersonalProject_001/frontend/pages/mainPosts_1001.js"],"names":["React","useState","useEffect","useCallback","Router","useRouter","Link","Pagenation","DislikeTwoTone","LikeTwoTone","MAINPOSTS_1001_LIST_REQUEST","LOAD_USER_REQUEST","useDispatch","useSelector","isEmpty","custumDateFormat","mainPosts_1001","dispatch","router","state","type","data","postFlag","currentPage","nowPage","maxPage","postsPerPage","console","log","gotoDetail","postId","userNickName","push","pathname","query","nickName","as","setNowPage","groupPage","setGroupPage","nowGroupPageArray","setNowGroupPageArray","pagenate","pageNumber","groupPageArray","length","concat","indexOfLastPost","indexOfFirstPost","map","v","i","title","createdDate"],"mappings":"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","sourcesContent":["\r\nimport React , {useState,useEffect,useCallback}from 'react'\r\nimport Router ,{ useRouter } from 'next/router';\r\nimport Link from 'next/link'\r\nimport Pagenation from '../utilComponent/Pagenation'\r\nimport {DislikeTwoTone,LikeTwoTone} from '@ant-design/icons'\r\nimport \r\n    {MAINPOSTS_1001_LIST_REQUEST,} \r\nfrom '../reducers/mainPosts_1001'; \r\n\r\n\r\nimport \r\n    {LOAD_USER_REQUEST,\r\n    } \r\nfrom '../reducers/auth'; \r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport isEmpty from '../utilComponent/isEmpty';\r\nimport custumDateFormat from  '../utilComponent/custumDateFormat';\r\n\r\n\r\n\r\n\r\nconst mainPosts_1001 = ()=>{\r\n\r\n  const dispatch = useDispatch(); \r\n  const router   = useRouter(); \r\n  const {mainPosts_1001} = useSelector((state)=>state.mainPosts_1001); \r\n\r\n\r\n  useEffect(()=>{\r\n    dispatch({\r\n        type:MAINPOSTS_1001_LIST_REQUEST, \r\n        data:{postFlag:'1001',\r\n              currentPage:nowPage,\r\n              maxPage:postsPerPage\r\n             }, \r\n    })\r\n\r\n    // dispatch({\r\n    //     type:LOAD_USER_REQUEST,\r\n    // }); \r\n    console.log('mainPosts_1001=>' , mainPosts_1001); \r\n\r\n  },[]); \r\n\r\n\r\n  const gotoDetail = useCallback((postId,userNickName,postFlag)=>{\r\n    router.push({pathname:'/detailPage',\r\n                 query:{postId,nickName:userNickName,postFlag},\r\n                 as : '/detail', \r\n              }); \r\n      console.log(postId,userNickName,postFlag);\r\n\r\n  },[])\r\n\r\n/*-------------------------------------------페이징 처리 로직 start-------------------------------------------------------*/\r\n  const [nowPage,setNowPage] = useState(0);                       //현재 페이지\r\n  const [postsPerPage] = useState(5);                             //한 페이지당 list 수 \r\n  const [groupPage , setGroupPage] = useState(5);                 //페이징 그룹 당 수  1~5 , 6~10 , 11~15 ...\r\n  const [nowGroupPageArray,setNowGroupPageArray] =useState([]);   //현제 페이징 그룹 배열\r\n\r\n  const pagenate =useCallback((pageNumber, groupPageArray)=>{\r\n    setNowPage(pageNumber); \r\n    nowGroupPageArray.length=0; \r\n    setNowGroupPageArray(nowGroupPageArray.concat(groupPageArray));\r\n    const indexOfLastPost = pageNumber * postsPerPage;   \r\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;  \r\n\r\n    dispatch({\r\n      type:MAINPOSTS_1001_LIST_REQUEST, \r\n      data:{postFlag:'1001',\r\n            currentPage:indexOfFirstPost,\r\n            maxPage:postsPerPage\r\n     }, \r\n\r\n     \r\n  });\r\n\r\n},[nowPage,nowGroupPageArray]); \r\n/*-------------------------------------------페이징 처리 로직   end-------------------------------------------------------*/\r\n\r\n\r\n   return (\r\n    <>\r\n      <div className=\"divTable\">\r\n            {mainPosts_1001.map((v,i)=>(\r\n               <div className='divTableRow' onClick={()=>gotoDetail(v.postId,v.userNickName,'1001')}>\r\n                  <div className='divTableCell'><div className=\"divImageCell\"><img src='https://dimg.donga.com/wps/NEWS/IMAGE/2019/11/24/98510015.1.jpg' /></div></div>\r\n                  <div className=\"divTableCell\" ><Link href={{pathname:'/detailPage' , query:{postId:v.postId,nickName:v.userNickName,postFlag:'1001'}}} ><a>{isEmpty(v.title)}</a></Link><br/>\r\n                  <LikeTwoTone twoToneColor=\"#1ba640\"/> : 10 <DislikeTwoTone twoToneColor=\"#1ba640\"/> : 10 hit : 15,000<br/>\r\n                  {isEmpty(v.createdDate)} | {isEmpty(v.userNickName)}<br />\r\n                  </div>\r\n              </div>\r\n            ))}\r\n      </div>\r\n    \r\n\r\n        <Pagenation pagenate={pagenate} dataLength={mainPosts_1001.length} postsPerPage={postsPerPage} nowPage={nowPage} groupPage={groupPage} groupPageArray={nowGroupPageArray} />\r\n\r\n    </>\r\n    );\r\n}; \r\n\r\n\r\nexport default mainPosts_1001; "]},"metadata":{},"sourceType":"module"}