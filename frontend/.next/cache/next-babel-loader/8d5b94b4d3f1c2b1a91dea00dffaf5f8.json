{"ast":null,"code":"var _jsxFileName = \"D:\\\\git Repository\\\\PersonalProject_001\\\\frontend\\\\pages\\\\login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useCallback, useState, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport KakaoLogin from \"react-kakao-login\";\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { LOAD_LOGIN_REQUEST, LOGIN_REQUEST } from '../reducers/auth';\nimport { useRouter } from 'next/router';\nimport { Button } from 'antd';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    isLogining,\n    userInfo\n  } = useSelector(state => state.auth);\n  const {\n    0: id,\n    1: setId\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  useEffect(() => {\n    console.log('init?!');\n    Kakao.init('71a70e1c6ee55af30c3f9ec51fd7dcb7');\n    console.log('Kakao.isInitialized()==>', Kakao.isInitialized());\n  }, []); //일반 로그인, \n\n  const onSubmit = useCallback(e => {\n    e.preventDefault();\n    dispatch({\n      type: LOGIN_REQUEST,\n      data: {\n        userId: id,\n        password: password,\n        loginType: 'local'\n      }\n    });\n    router.push({\n      pathname: '/'\n    });\n  }, [id, password]);\n  const onChangeId = useCallback(e => {\n    setId(e.target.value);\n  }, [id]);\n  const onChangPassword = useCallback(e => {\n    setPassword(e.target.value);\n  }, [password]);\n\n  const success01 = () => {\n    alert('성공');\n    dispatch({\n      type: LOGIN_REQUEST,\n      data: {\n        loginType: 'kakao'\n      }\n    });\n  };\n\n  const Failure01 = () => {\n    alert('실패');\n  }; //시도 01\n\n\n  function kakaoLoginPopup() {\n    Kakao.Auth.login({\n      scope: 'profile, ',\n      success: function (authObj) {\n        console.log('authObj==>', authObj);\n        Kakao.API.request({\n          url: '/v2/user/me',\n          success: res => {\n            const kakao_account = res.kakao_account;\n            console.log('authObj=>', kakao_account);\n          }\n        });\n      }\n    });\n  }\n\n  function kakaoLogin() {\n    // Kakao.Auth.authorize({\n    //     redirectUri: 'http://captainryan.gonetis.com:3095/api/auth/kakaoTest'\n    //   });\n    dispatch({\n      type: LOGIN_REQUEST,\n      data: {\n        loginType: 'sdk'\n      }\n    });\n    router.push({\n      pathname: '/'\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"divTable\",\n    style: {\n      marginTop: '3%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"divTableBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"divTableRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"divTableCell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, \"\\uC544\\uC774\\uB514:\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"userId\",\n    value: id,\n    onChange: onChangeId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"divTableRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"divTableCell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638:\"), __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: onChangPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  })))), __jsx(Button, {\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), __jsx(Button, {\n    onClick: kakaoLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778 \\uB9AC\\uB514\\uB809\\uD2B8\"), __jsx(Button, {\n    onClick: kakaoLoginPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778 \\uD31D\\uC5C5\"), __jsx(Link, {\n    href: {\n      path: 'http://captainryan.gonetis.com:3095/api/auth/kakao'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 86\n    }\n  }, \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/git Repository/PersonalProject_001/frontend/pages/login.js"],"names":["useCallback","useState","useEffect","useRef","useDispatch","useSelector","KakaoLogin","Link","Router","LOAD_LOGIN_REQUEST","LOGIN_REQUEST","useRouter","Button","Login","dispatch","router","isLogining","userInfo","state","auth","id","setId","password","setPassword","console","log","Kakao","init","isInitialized","onSubmit","e","preventDefault","type","data","userId","loginType","push","pathname","onChangeId","target","value","onChangPassword","success01","alert","Failure01","kakaoLoginPopup","Auth","login","scope","success","authObj","API","request","url","res","kakao_account","kakaoLogin","marginTop","path"],"mappings":"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","sourcesContent":["\r\nimport {useCallback,useState,useEffect, useRef} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport KakaoLogin from \"react-kakao-login\";\r\nimport Link from 'next/link'\r\nimport Router from 'next/router'; \r\nimport \r\n    {LOAD_LOGIN_REQUEST,\r\n     LOGIN_REQUEST, \r\n    } \r\nfrom '../reducers/auth'; \r\nimport { useRouter } from 'next/router';\r\nimport {Button} from 'antd'\r\n\r\nconst Login = ()=>{\r\n\r\n    const dispatch = useDispatch(); \r\n    const router   =useRouter(); \r\n    const {isLogining, userInfo} = useSelector(state => state.auth); \r\n\r\n\r\n    const [id,setId] = useState(''); \r\n    const [password, setPassword] = useState('');\r\n\r\n   \r\n    useEffect(()=>{\r\n        console.log('init?!'); \r\n        Kakao.init('71a70e1c6ee55af30c3f9ec51fd7dcb7'); \r\n        console.log('Kakao.isInitialized()==>', Kakao.isInitialized());\r\n    },[]); \r\n\r\n    //일반 로그인, \r\n    const onSubmit = useCallback((e)=>{\r\n        e.preventDefault();\r\n        dispatch({type:LOGIN_REQUEST,\r\n                  data: {\r\n                    userId:id,  \r\n                    password:password, \r\n                    loginType:'local', \r\n                  }\r\n        }); \r\n\r\n        router.push({pathname:'/'});\r\n\r\n    },[id,password]); \r\n\r\n\r\n\r\n    const onChangeId = useCallback((e)=>{\r\n        setId(e.target.value); \r\n    },[id])\r\n\r\n\r\n    const onChangPassword = useCallback((e)=>{\r\n        setPassword(e.target.value); \r\n    },[password])\r\n\r\n    const success01 =()=>{\r\n        alert('성공'); \r\n        dispatch({type:LOGIN_REQUEST,\r\n            data: {\r\n\r\n              loginType:'kakao', \r\n            }\r\n         }); \r\n    }\r\n\r\n    const Failure01 = ()=>{\r\n        alert('실패'); \r\n    }\r\n\r\n\r\n\r\n    //시도 01\r\n    function kakaoLoginPopup(){\r\n        Kakao.Auth.login({\r\n            scope:'profile, ', \r\n            success: function(authObj){\r\n                    console.log('authObj==>' , authObj); \r\n                    Kakao.API.request({\r\n                        url:'/v2/user/me', \r\n                        success: res =>{\r\n                            const kakao_account = res.kakao_account\r\n                            console.log('authObj=>' , kakao_account); \r\n                        }\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    function kakaoLogin(){\r\n        // Kakao.Auth.authorize({\r\n        //     redirectUri: 'http://captainryan.gonetis.com:3095/api/auth/kakaoTest'\r\n        //   });\r\n        dispatch({type:LOGIN_REQUEST,\r\n            data: {\r\n\r\n              loginType:'sdk', \r\n            }\r\n  }); \r\n  router.push({pathname:'/'});\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <form onSubmit={onSubmit}>\r\n            <div className='divTable' style={{marginTop:'3%'}} >\r\n                <div className='divTableBody'>\r\n                    <div className='divTableRow'>\r\n                            <div className='divTableCell'>아이디:</div>\r\n                            <input type=\"text\" name=\"userId\" value={id} onChange={onChangeId}/>\r\n                    </div>\r\n                    <div className='divTableRow'>\r\n                            <div className='divTableCell'>비밀번호:</div>\r\n                            <input type=\"password\" name=\"password\" value={password} onChange={onChangPassword} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/*loading={isLogining}> */}\r\n            <Button onClick={onSubmit}>로그인</Button>\r\n            <Button onClick={kakaoLogin}>카카오 로그인 리디렉트</Button>\r\n            <Button onClick={kakaoLoginPopup}>카카오 로그인 팝업</Button>\r\n\r\n   \r\n            <Link href={{path:'http://captainryan.gonetis.com:3095/api/auth/kakao'}}><a>카카오 로그인</a></Link>\r\n        \r\n        \r\n        </form>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Login; "]},"metadata":{},"sourceType":"module"}